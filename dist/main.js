(()=>{function b(){var i;let c=document.querySelector("[data-subnav]"),d=c&&c.querySelector("[data-underline]");if(!c||!d)return;let e=[...c.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let s=t.getAttribute("href").slice(1),a=document.getElementById(s);return a?{a:t,id:s,sec:a}:null}).filter(Boolean);if(!e.length)return;let u=(t=>parseFloat(t)||0)(c.getAttribute("data-scroll-offset")),m=((i=document.querySelector(".nav_component"))==null?void 0:i.offsetHeight)||0,g=u||m,p=[],y=()=>{p=e.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),n()};function h(t){let s=t.getBoundingClientRect(),a=c.getBoundingClientRect(),w=s.left-a.left+s.width*.5;d.style.left="0px",d.style.width=w+"px"}function v(t){e.forEach(a=>a.a.removeAttribute("aria-current"));let s=e[t].a;s.setAttribute("aria-current","page"),h(s)}function n(){let t=window.scrollY+g+1,s=0;for(let a=0;a<p.length&&p[a]<=t;a++)s=a;v(s)}e.forEach((t,s)=>{t.a.addEventListener("click",a=>{a.preventDefault();let w=p[s]-g;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),v(s)}),t.a.addEventListener("mouseenter",()=>h(t.a)),t.a.addEventListener("focus",()=>h(t.a))}),c.addEventListener("mouseleave",n);let o=!1,l=()=>{o||(o=!0,requestAnimationFrame(()=>{n(),o=!1}))};window.addEventListener("load",()=>{y(),n()}),window.addEventListener("resize",y),window.addEventListener("scroll",l,{passive:!0})}function A(){let c=r=>String(r||"").toLowerCase().replace(/\/+$/,""),d=c(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(r=>{let e=r.getAttribute("href")||"",f=r.getAttribute("data-section")||e,u=c(f);if(!u)return;(u===""||u==="/"?d===""||d==="/":d.startsWith(u))?r.setAttribute("data-active","true"):r.removeAttribute("data-active")})}(()=>{function c(r){let e=r.querySelector("[data-filter-dropdown]"),f=e==null?void 0:e.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),u=e==null?void 0:e.querySelector("[data-filter-menu]");if(!e||!f||!u)return;let m=f.querySelector(":scope > div:first-child")||f,g=(n,o)=>{var i;let l=n==="*"?"All regions":((i=o==null?void 0:o.textContent)==null?void 0:i.trim())||n;m.tagName==="INPUT"?m.value=l:m.textContent=l},p=()=>{let n=r.querySelectorAll("[data-card]");return n.length?n:r.querySelectorAll('[role="listitem"]')},y=n=>{var i,t;let o=(i=n.querySelector("[data-location]"))==null?void 0:i.textContent;return o?o.trim().toLowerCase():(((t=n.querySelector(".job-card-pre-heading"))==null?void 0:t.textContent)||"").trim().toLowerCase()},h=n=>{let o=!n||n.toLowerCase()==="*",l=p(),i=0;l.forEach(t=>{let s=y(t),a=o||s===n.toLowerCase();t.style.display=a?"":"none",a&&i++}),console.log("[filter] value:",n,"shown:",i,"/",l.length)};document.addEventListener("click",n=>{let o=n.target.closest("[data-filter]");if(!o||!r.contains(o))return;let l=(o.getAttribute("data-filter")||"*").trim();e.dataset.selected=l,g(l,o),h(l),requestAnimationFrame(()=>{e.classList.contains("w--open")&&(f==null||f.click()),setTimeout(()=>{var i;e.classList.contains("w--open")&&(e.classList.remove("w--open"),(i=u==null?void 0:u.style)==null||i.removeProperty("display"))},20)})});let v=e.dataset.selected||"*";e.dataset.selected=v,g(v),h(v),r.dataset.filterAttached="true"}function d(){let r=document.querySelectorAll("[data-filter-scope]");r.length?r.forEach(e=>{e.dataset.filterAttached||c(e)}):document.body.dataset.filterAttached||c(document.body)}document.addEventListener("DOMContentLoaded",d),new MutationObserver(d).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(d,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
