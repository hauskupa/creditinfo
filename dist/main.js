(()=>{function A(){var l;let i=document.querySelector("[data-subnav]"),c=i&&i.querySelector("[data-underline]");if(!i||!c)return;let u=[...i.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let n=t.getAttribute("href").slice(1),r=document.getElementById(n);return r?{a:t,id:n,sec:r}:null}).filter(Boolean);if(!u.length)return;let f=(t=>parseFloat(t)||0)(i.getAttribute("data-scroll-offset")),y=((l=document.querySelector(".nav_component"))==null?void 0:l.offsetHeight)||0,w=f||y,e=[],o=()=>{e=u.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),s()};function a(t){let n=t.getBoundingClientRect(),r=i.getBoundingClientRect(),p=n.left-r.left+n.width*.5;c.style.left="0px",c.style.width=p+"px"}function v(t){u.forEach(r=>r.a.removeAttribute("aria-current"));let n=u[t].a;n.setAttribute("aria-current","page"),a(n)}function s(){let t=window.scrollY+w+1,n=0;for(let r=0;r<e.length&&e[r]<=t;r++)n=r;v(n)}u.forEach((t,n)=>{t.a.addEventListener("click",r=>{r.preventDefault();let p=e[n]-w;window.scrollTo({top:p,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),v(n)}),t.a.addEventListener("mouseenter",()=>a(t.a)),t.a.addEventListener("focus",()=>a(t.a))}),i.addEventListener("mouseleave",s);let g=!1,m=()=>{g||(g=!0,requestAnimationFrame(()=>{s(),g=!1}))};window.addEventListener("load",()=>{o(),s()}),window.addEventListener("resize",o),window.addEventListener("scroll",m,{passive:!0})}function b(){let i=d=>String(d||"").toLowerCase().replace(/\/+$/,""),c=i(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(d=>{let u=d.getAttribute("href")||"",h=d.getAttribute("data-section")||u,f=i(h);if(!f)return;(f===""||f==="/"?c===""||c==="/":c.startsWith(f))?d.setAttribute("data-active","true"):d.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let i=e=>(e||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),c=e=>e.style.setProperty("display","none","important"),d=e=>e.style.removeProperty("display");function u(e){return[...e.querySelectorAll("[data-card]")]}function h(e){let o=e.querySelector("[data-location]");return o?i(o.getAttribute("data-location")||o.textContent||""):""}function f(e,o){let a=i(o),v=!a||a==="*",s=u(e),g=0;s.forEach(m=>{let l=v||h(m)===a||h(m).includes(a);(l?d:c)(m),l&&g++}),console.log("[filter]",a||"*","shown:",g,"/",s.length)}function y(e){if(e.dataset.filterAttached)return;e.dataset.filterAttached="true";let o=e.querySelector("[data-filter-dropdown]"),a=o==null?void 0:o.querySelector("[data-filter-toggle], .w-dropdown-toggle"),v=o==null?void 0:o.querySelector("[data-filter-menu], .w-dropdown-list"),s=(l,t)=>{var p;if(!a)return;let n=a.firstElementChild||a,r=i(l)==="*"?"All":((p=t==null?void 0:t.textContent)==null?void 0:p.trim())||l;n instanceof HTMLInputElement?n.value=r:n.textContent=r},g=()=>{var l;o&&(o.classList.remove("w--open"),(l=v==null?void 0:v.style)==null||l.removeProperty("display"))};e.addEventListener("click",l=>{let t=l.target.closest("[data-filter]");if(!t)return;let n=(t.getAttribute("data-filter")||"*").trim();e.dataset.selected=n,f(e,n),o?(s(n,t),g()):e.querySelectorAll("[data-filter]").forEach(r=>r.classList.toggle("is-active",r===t))});let m=e.dataset.selected||"*";e.dataset.selected=m,f(e,m),o&&s(m)}function w(){document.querySelectorAll("[data-filter-scope]").forEach(y)}document.addEventListener("DOMContentLoaded",w),new MutationObserver(w).observe(document.documentElement,{childList:!0,subtree:!0})})();document.addEventListener("DOMContentLoaded",()=>{b(),A()});})();
