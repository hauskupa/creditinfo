(()=>{function b(){var l;let c=document.querySelector("[data-subnav]"),d=c&&c.querySelector("[data-underline]");if(!c||!d)return;let e=[...c.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let s=t.getAttribute("href").slice(1),a=document.getElementById(s);return a?{a:t,id:s,sec:a}:null}).filter(Boolean);if(!e.length)return;let u=(t=>parseFloat(t)||0)(c.getAttribute("data-scroll-offset")),m=((l=document.querySelector(".nav_component"))==null?void 0:l.offsetHeight)||0,y=u||m,p=[],g=()=>{p=e.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),o()};function h(t){let s=t.getBoundingClientRect(),a=c.getBoundingClientRect(),w=s.left-a.left+s.width*.5;d.style.left="0px",d.style.width=w+"px"}function v(t){e.forEach(a=>a.a.removeAttribute("aria-current"));let s=e[t].a;s.setAttribute("aria-current","page"),h(s)}function o(){let t=window.scrollY+y+1,s=0;for(let a=0;a<p.length&&p[a]<=t;a++)s=a;v(s)}e.forEach((t,s)=>{t.a.addEventListener("click",a=>{a.preventDefault();let w=p[s]-y;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),v(s)}),t.a.addEventListener("mouseenter",()=>h(t.a)),t.a.addEventListener("focus",()=>h(t.a))}),c.addEventListener("mouseleave",o);let n=!1,i=()=>{n||(n=!0,requestAnimationFrame(()=>{o(),n=!1}))};window.addEventListener("load",()=>{g(),o()}),window.addEventListener("resize",g),window.addEventListener("scroll",i,{passive:!0})}function A(){let c=r=>String(r||"").toLowerCase().replace(/\/+$/,""),d=c(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(r=>{let e=r.getAttribute("href")||"",f=r.getAttribute("data-section")||e,u=c(f);if(!u)return;(u===""||u==="/"?d===""||d==="/":d.startsWith(u))?r.setAttribute("data-active","true"):r.removeAttribute("data-active")})}(()=>{function c(r){let e=r.querySelector("[data-filter-dropdown]"),f=e==null?void 0:e.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),u=e==null?void 0:e.querySelector("[data-filter-menu]");if(!e||!f||!u)return;let m=f.querySelector(":scope > div:first-child")||f,y=(o,n)=>{var l;let i=o==="*"?"All regions":((l=n==null?void 0:n.textContent)==null?void 0:l.trim())||o;m.tagName==="INPUT"?m.value=i:m.textContent=i},p=()=>{let o=r.querySelectorAll("[data-card]");return o.length?o:r.querySelectorAll('[role="listitem"]')},g=o=>{var t;let n=o.querySelector("[data-location]"),i=n==null?void 0:n.getAttribute("data-location");return i?i.trim().toLowerCase():((n==null?void 0:n.textContent)||((t=o.querySelector(".job-card-pre-heading"))==null?void 0:t.textContent)||"").trim().toLowerCase()},h=o=>{let n=!o||o.toLowerCase()==="*",i=p(),l=0;i.forEach(t=>{let s=g(t),a=n||s===o.toLowerCase();t.style.display=a?"":"none",a&&l++}),console.log("[filter] value:",o,"shown:",l,"/",i.length)};document.addEventListener("click",o=>{let n=o.target.closest("[data-filter]");if(!n||!r.contains(n))return;let i=(n.getAttribute("data-filter")||"*").trim();e.dataset.selected=i,y(i,n),h(i),requestAnimationFrame(()=>{e.classList.contains("w--open")&&(f==null||f.click()),setTimeout(()=>{var l;e.classList.contains("w--open")&&(e.classList.remove("w--open"),(l=u==null?void 0:u.style)==null||l.removeProperty("display"))},20)})});let v=e.dataset.selected||"*";e.dataset.selected=v,y(v),h(v),r.dataset.filterAttached="true"}function d(){let r=document.querySelectorAll("[data-filter-scope]");r.length?r.forEach(e=>{e.dataset.filterAttached||c(e)}):document.body.dataset.filterAttached||c(document.body)}document.addEventListener("DOMContentLoaded",d),new MutationObserver(d).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(d,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
