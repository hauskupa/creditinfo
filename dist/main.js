(()=>{function b(){var y;let l=document.querySelector("[data-subnav]"),f=l&&l.querySelector("[data-underline]");if(!l||!f)return;let d=[...l.querySelectorAll('[data-subnav-link][href^="#"]')].map(r=>{let s=r.getAttribute("href").slice(1),c=document.getElementById(s);return c?{a:r,id:s,sec:c}:null}).filter(Boolean);if(!d.length)return;let u=(r=>parseFloat(r)||0)(l.getAttribute("data-scroll-offset")),g=((y=document.querySelector(".nav_component"))==null?void 0:y.offsetHeight)||0,v=u||g,p=[],o=()=>{p=d.map(r=>r.sec.getBoundingClientRect().top+window.scrollY),a()};function t(r){let s=r.getBoundingClientRect(),c=l.getBoundingClientRect(),w=s.left-c.left+s.width*.5;f.style.left="0px",f.style.width=w+"px"}function e(r){d.forEach(c=>c.a.removeAttribute("aria-current"));let s=d[r].a;s.setAttribute("aria-current","page"),t(s)}function a(){let r=window.scrollY+v+1,s=0;for(let c=0;c<p.length&&p[c]<=r;c++)s=c;e(s)}d.forEach((r,s)=>{r.a.addEventListener("click",c=>{c.preventDefault();let w=p[s]-v;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+r.id),e(s)}),r.a.addEventListener("mouseenter",()=>t(r.a)),r.a.addEventListener("focus",()=>t(r.a))}),l.addEventListener("mouseleave",a);let n=!1,i=()=>{n||(n=!0,requestAnimationFrame(()=>{a(),n=!1}))};window.addEventListener("load",()=>{o(),a()}),window.addEventListener("resize",o),window.addEventListener("scroll",i,{passive:!0})}function A(){let l=m=>String(m||"").toLowerCase().replace(/\/+$/,""),f=l(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(m=>{let d=m.getAttribute("href")||"",h=m.getAttribute("data-section")||d,u=l(h);if(!u)return;(u===""||u==="/"?f===""||f==="/":f.startsWith(u))?m.setAttribute("data-active","true"):m.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let l=o=>(o||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),f=o=>o.style.setProperty("display","none","important"),m=o=>o.style.removeProperty("display"),d=o=>{var n;let t=o.querySelector("[data-location]"),e=t==null?void 0:t.getAttribute("data-location");if(e)return l(e);let a=(t==null?void 0:t.textContent)||((n=o.querySelector(".job-card-pre-heading"))==null?void 0:n.textContent);return l(a||o.textContent||"")},h=o=>{let t=a=>!a.closest("[data-filter-dropdown]"),e=Array.from(o.querySelectorAll("[data-card]")).filter(t);return e.length||(e=Array.from(o.querySelectorAll("[role='listitem']")).filter(t),e.length)?e:Array.from(document.querySelectorAll("[data-card], [role='listitem']")).filter(t)},u=(o,t)=>{let e=l(t),a=!e||e==="*",n=h(o),i=0;n.forEach(s=>{let c=d(s);a||c===e||c.includes(e)?(m(s),i++):f(s)});let y=o.querySelector("[data-filter-empty]")||document.querySelector("[data-filter-empty]");y&&(y.style.display=i===0?"":"none");let r=n.slice(0,5).map(s=>d(s));console.log("[filter] value:",a?"*":t,"\u2192",e,"shown:",i,"/",n.length,"sample:",r)},g=(o,t,e)=>{var y;let a=o.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||o,n=a.firstElementChild||a,i=l(t)==="*"?"All regions":((y=e==null?void 0:e.textContent)==null?void 0:y.trim())||t;n.tagName==="INPUT"?n.value=i:n.textContent=i},v=o=>{var a;let t=o.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||o,e=o.querySelector("[data-filter-menu]");o.classList.remove("w--open"),(a=e==null?void 0:e.style)==null||a.removeProperty("display"),requestAnimationFrame(()=>{var n;(n=t==null?void 0:t.click)==null||n.call(t),setTimeout(()=>{var i;o.classList.remove("w--open"),(i=e==null?void 0:e.style)==null||i.removeProperty("display")},20)})},p=()=>{let o=document.querySelectorAll("[data-filter-scope]");if(o.length)o.forEach(t=>{if(t.dataset.filterAttached)return;let e=t.querySelector("[data-filter-dropdown]")||t;e.dataset.selected=e.dataset.selected||"*",g(e,e.dataset.selected),u(t,e.dataset.selected),t.dataset.filterAttached="true"});else if(!document.body.dataset.filterAttached){let t=document.body.querySelector("[data-filter-dropdown]")||document.body;t.dataset.selected=t.dataset.selected||"*",g(t,t.dataset.selected),u(document.body,t.dataset.selected),document.body.dataset.filterAttached="true"}};document.addEventListener("click",o=>{let t=o.target.closest("[data-filter]");if(!t)return;let e=t.closest("[data-filter-dropdown]")||t.closest(".w-dropdown");if(!e)return;let a=e.closest("[data-filter-scope]")||t.closest("[data-filter-scope]")||document.body,n=(t.getAttribute("data-filter")||"*").trim();e.dataset.selected=n,g(e,n,t),u(a,n),v(e)},!0),document.addEventListener("DOMContentLoaded",p),new MutationObserver(p).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(p,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
