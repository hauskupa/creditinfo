(()=>{function b(){var f;let l=document.querySelector("[data-subnav]"),u=l&&l.querySelector("[data-underline]");if(!l||!u)return;let d=[...l.querySelectorAll('[data-subnav-link][href^="#"]')].map(e=>{let r=e.getAttribute("href").slice(1),s=document.getElementById(r);return s?{a:e,id:r,sec:s}:null}).filter(Boolean);if(!d.length)return;let o=(e=>parseFloat(e)||0)(l.getAttribute("data-scroll-offset")),m=((f=document.querySelector(".nav_component"))==null?void 0:f.offsetHeight)||0,g=o||m,t=[],n=()=>{t=d.map(e=>e.sec.getBoundingClientRect().top+window.scrollY),h()};function i(e){let r=e.getBoundingClientRect(),s=l.getBoundingClientRect(),w=r.left-s.left+r.width*.5;u.style.left="0px",u.style.width=w+"px"}function p(e){d.forEach(s=>s.a.removeAttribute("aria-current"));let r=d[e].a;r.setAttribute("aria-current","page"),i(r)}function h(){let e=window.scrollY+g+1,r=0;for(let s=0;s<t.length&&t[s]<=e;s++)r=s;p(r)}d.forEach((e,r)=>{e.a.addEventListener("click",s=>{s.preventDefault();let w=t[r]-g;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+e.id),p(r)}),e.a.addEventListener("mouseenter",()=>i(e.a)),e.a.addEventListener("focus",()=>i(e.a))}),l.addEventListener("mouseleave",h);let v=!1,y=()=>{v||(v=!0,requestAnimationFrame(()=>{h(),v=!1}))};window.addEventListener("load",()=>{n(),h()}),window.addEventListener("resize",n),window.addEventListener("scroll",y,{passive:!0})}function A(){let l=a=>String(a||"").toLowerCase().replace(/\/+$/,""),u=l(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(a=>{let d=a.getAttribute("href")||"",c=a.getAttribute("data-section")||d,o=l(c);if(!o)return;(o===""||o==="/"?u===""||u==="/":u.startsWith(o))?a.setAttribute("data-active","true"):a.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let l=t=>(t||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),u=t=>t.style.setProperty("display","none","important"),a=t=>t.style.removeProperty("display");function d(t){return[...t.querySelectorAll("[data-card]")]}function c(t){let n=t.querySelector("[data-location]");return n?l(n.getAttribute("data-location")||n.textContent||""):""}function o(t,n){let i=l(n),p=!i||i==="*",h=d(t),v=0;h.forEach(y=>{let f=p||c(y)===i||c(y).includes(i);(f?a:u)(y),f&&v++}),console.log("[filter]",i||"*","shown:",v,"/",h.length)}function m(t){if(t.dataset.filterAttached)return;t.dataset.filterAttached="true";let n=t.querySelector("[data-filter-dropdown]"),i=n==null?void 0:n.querySelector("[data-filter-toggle], .w-dropdown-toggle"),p=n==null?void 0:n.querySelector("[data-filter-menu], .w-dropdown-list"),h=(f,e)=>{var w;if(!i)return;let r=i.firstElementChild||i,s=l(f)==="*"?"All":((w=e==null?void 0:e.textContent)==null?void 0:w.trim())||f;r instanceof HTMLInputElement?r.value=s:r.textContent=s},v=()=>{var f;n&&(n.classList.remove("w--open"),(f=p==null?void 0:p.style)==null||f.removeProperty("display"))};t.addEventListener("click",f=>{let e=f.target.closest("[data-filter]");if(!e)return;let r=(e.getAttribute("data-filter")||"*").trim();t.dataset.selected=r,o(t,r),n?(h(r,e),v()):t.querySelectorAll("[data-filter]").forEach(s=>s.classList.toggle("is-active",s===e))});let y=t.dataset.selected||"*";t.dataset.selected=y,o(t,y),n&&h(y)}function g(){document.querySelectorAll("[data-filter-scope]").forEach(m)}document.addEventListener("DOMContentLoaded",g),new MutationObserver(g).observe(document.documentElement,{childList:!0,subtree:!0})})();function S(){console.log("[solutions] init");let l=document.querySelector("[data-solutions]");if(!l)return console.log("[solutions] no wrapper");let u=l.getAttribute("data-solutions"),a=[...l.querySelectorAll("[data-solutions-card]")];if(!a.length)return console.log("[solutions] no cards");a.forEach(c=>{let o=c.querySelector(".card-text-clip");o&&(o.style.removeProperty("height"),o.style.overflow="hidden",o.style.transition||(o.style.transition="max-height 400ms ease"),o.style.maxHeight="0px")});function d(c){a.forEach(o=>{var t;let m=o===c;o.classList.toggle("is-active",m),o.style.opacity=m?"1":"0.5";let g=o.querySelector(".card-text-clip");g&&(g.style.maxHeight=m?(((t=g.firstElementChild)==null?void 0:t.scrollHeight)||0)+"px":"0px")})}if(u==="scroll"){console.log("[solutions] scroll mode");let c=[...document.querySelectorAll("[data-solutions-content]")];if(!c.length)return console.log("[solutions] no sections");let o=new IntersectionObserver(m=>{let g=m.filter(i=>i.isIntersecting).sort((i,p)=>p.intersectionRatio-i.intersectionRatio)[0];if(!g)return;let t=g.target.getAttribute("data-solutions-content"),n=a.find(i=>i.getAttribute("data-solutions-card")===t);n&&d(n)},{rootMargin:"-30% 0px -60% 0px",threshold:[0,.25,.5,.75,1]});c.forEach(m=>o.observe(m)),d(a[0])}else if(u==="autoplay"){console.log("[solutions] autoplay mode");let c=0;(function o(){d(a[c]),c=(c+1)%a.length,setTimeout(o,4e3)})()}else console.log("[solutions] unknown mode:",u)}document.addEventListener("DOMContentLoaded",()=>{A(),b(),S()});})();
