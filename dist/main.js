(()=>{function b(){var s;let l=document.querySelector("[data-subnav]"),d=l&&l.querySelector("[data-underline]");if(!l||!d)return;let i=[...l.querySelectorAll('[data-subnav-link][href^="#"]')].map(n=>{let a=n.getAttribute("href").slice(1),c=document.getElementById(a);return c?{a:n,id:a,sec:c}:null}).filter(Boolean);if(!i.length)return;let f=(n=>parseFloat(n)||0)(l.getAttribute("data-scroll-offset")),w=((s=document.querySelector(".nav_component"))==null?void 0:s.offsetHeight)||0,h=f||w,m=[],g=()=>{m=i.map(n=>n.sec.getBoundingClientRect().top+window.scrollY),o()};function y(n){let a=n.getBoundingClientRect(),c=l.getBoundingClientRect(),p=a.left-c.left+a.width*.5;d.style.left="0px",d.style.width=p+"px"}function e(n){i.forEach(c=>c.a.removeAttribute("aria-current"));let a=i[n].a;a.setAttribute("aria-current","page"),y(a)}function o(){let n=window.scrollY+h+1,a=0;for(let c=0;c<m.length&&m[c]<=n;c++)a=c;e(a)}i.forEach((n,a)=>{n.a.addEventListener("click",c=>{c.preventDefault();let p=m[a]-h;window.scrollTo({top:p,behavior:"smooth"}),history.replaceState(null,"","#"+n.id),e(a)}),n.a.addEventListener("mouseenter",()=>y(n.a)),n.a.addEventListener("focus",()=>y(n.a))}),l.addEventListener("mouseleave",o);let t=!1,r=()=>{t||(t=!0,requestAnimationFrame(()=>{o(),t=!1}))};window.addEventListener("load",()=>{g(),o()}),window.addEventListener("resize",g),window.addEventListener("scroll",r,{passive:!0})}function S(){let l=u=>String(u||"").toLowerCase().replace(/\/+$/,""),d=l(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(u=>{let i=u.getAttribute("href")||"",v=u.getAttribute("data-section")||i,f=l(v);if(!f)return;(f===""||f==="/"?d===""||d==="/":d.startsWith(f))?u.setAttribute("data-active","true"):u.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let l=e=>(e||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),d=e=>e.style.setProperty("display","none","important"),u=e=>e.style.removeProperty("display"),i=e=>{var n;let o=e.querySelector("[data-location]")||e.querySelector(".job-card [data-location]"),t=o==null?void 0:o.getAttribute("data-location");if(t)return l(t);let r=(n=e.querySelector(".job-card-pre-heading"))==null?void 0:n.textContent;if(r&&r.trim())return l(r);let s=e.matches(".job-card")?e:e.querySelector(".job-card")||e;return l((s==null?void 0:s.textContent)||"")},v=e=>{let o=r=>!r.closest("[data-filter-dropdown]"),t=Array.from(e.querySelectorAll("[data-card]")).filter(o);return t.length||(t=Array.from(e.querySelectorAll(".job-card")).map(r=>r.closest("[role='listitem'], [data-card]")||r).filter(o),t.length)||(t=Array.from(e.querySelectorAll("[role='listitem']")).filter(o)),t},f=(e,o)=>{let t=l(o),r=!t||t==="*",s=v(e),n=0;s.forEach(p=>{let A=i(p),q=r||A===t||A.includes(t);(q?u:d)(p),q&&n++});let a=e.querySelector("[data-filter-empty]")||document.querySelector("[data-filter-empty]");a&&(a.style.display=n===0?"":"none");let c=s.slice(0,5).map(p=>i(p));console.log("[filter] value:",r?"*":o,"\u2192",t,"shown:",n,"/",s.length,"sample:",c)},w=(e,o,t)=>{var a;let r=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),s=(r==null?void 0:r.firstElementChild)||r||null;if(!s)return;let n=l(o)==="*"?"All regions":((a=t==null?void 0:t.textContent)==null?void 0:a.trim())||o;s.tagName==="INPUT"?s.value=n:s.textContent=n},h=e=>{var r;let o=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),t=e.querySelector("[data-filter-menu]");e.classList.remove("w--open"),(r=t==null?void 0:t.style)==null||r.removeProperty("display"),requestAnimationFrame(()=>{var s;(s=o==null?void 0:o.click)==null||s.call(o),setTimeout(()=>{var n;e.classList.remove("w--open"),(n=t==null?void 0:t.style)==null||n.removeProperty("display")},20)})},m=new WeakSet,g=e=>{if(m.has(e))return;let o=e.closest("[data-filter-scope]")||e.closest("section, main, .w-dyn-list, .w-dyn-items, .page-wrapper")||e.parentElement,t=e.dataset.selected||"*";e.dataset.selected=t,w(e,t),f(o,t),m.add(e)},y=()=>{document.querySelectorAll("[data-filter-dropdown]").forEach(g)};document.addEventListener("click",e=>{let o=e.target.closest("[data-filter]");if(!o)return;let t=o.closest("[data-filter-dropdown]")||o.closest(".w-dropdown");if(!t||!m.has(t))return;let r=t.closest("[data-filter-scope]")||t.closest("section, main, .w-dyn-list, .w-dyn-items, .page-wrapper")||t.parentElement,s=(o.getAttribute("data-filter")||"*").trim();t.dataset.selected=s,w(t,s,o),f(r,s),h(t)},!0),document.addEventListener("DOMContentLoaded",y),new MutationObserver(y).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(y,50)})();document.addEventListener("DOMContentLoaded",()=>{S(),b()});})();
