(()=>{function b(){var o;let c=document.querySelector("[data-subnav]"),i=c&&c.querySelector("[data-underline]");if(!c||!i)return;let n=[...c.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let e=t.getAttribute("href").slice(1),s=document.getElementById(e);return s?{a:t,id:e,sec:s}:null}).filter(Boolean);if(!n.length)return;let l=(t=>parseFloat(t)||0)(c.getAttribute("data-scroll-offset")),m=((o=document.querySelector(".nav_component"))==null?void 0:o.offsetHeight)||0,y=l||m,p=[],g=()=>{p=n.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),v()};function h(t){let e=t.getBoundingClientRect(),s=c.getBoundingClientRect(),u=e.left-s.left+e.width*.5;i.style.left="0px",i.style.width=u+"px"}function w(t){n.forEach(s=>s.a.removeAttribute("aria-current"));let e=n[t].a;e.setAttribute("aria-current","page"),h(e)}function v(){let t=window.scrollY+y+1,e=0;for(let s=0;s<p.length&&p[s]<=t;s++)e=s;w(e)}n.forEach((t,e)=>{t.a.addEventListener("click",s=>{s.preventDefault();let u=p[e]-y;window.scrollTo({top:u,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),w(e)}),t.a.addEventListener("mouseenter",()=>h(t.a)),t.a.addEventListener("focus",()=>h(t.a))}),c.addEventListener("mouseleave",v);let f=!1,r=()=>{f||(f=!0,requestAnimationFrame(()=>{v(),f=!1}))};window.addEventListener("load",()=>{g(),v()}),window.addEventListener("resize",g),window.addEventListener("scroll",r,{passive:!0})}function S(){let c=a=>String(a||"").toLowerCase().replace(/\/+$/,""),i=c(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(a=>{let n=a.getAttribute("href")||"",d=a.getAttribute("data-section")||n,l=c(d);if(!l)return;(l===""||l==="/"?i===""||i==="/":i.startsWith(l))?a.setAttribute("data-active","true"):a.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");function c(a){let n=a.querySelector("[data-filter-dropdown]"),d=n==null?void 0:n.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),l=n==null?void 0:n.querySelector("[data-filter-menu]");if(!n||!d||!l)return;let m=d.firstElementChild||d,y=(r,o)=>{var e;let t=r==="*"?"All regions":((e=o==null?void 0:o.textContent)==null?void 0:e.trim())||r;m.tagName==="INPUT"?m.value=t:m.textContent=t},p=()=>{let r=a.querySelectorAll("[data-card]");return r.length||(r=a.querySelectorAll("[role='listitem']"),r.length)?r:document.querySelectorAll("[data-card], [role='listitem']")},g=r=>(r||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),h=r=>{var s;let o=r.querySelector("[data-location]"),t=o==null?void 0:o.getAttribute("data-location");if(t)return g(t);let e=(o==null?void 0:o.textContent)||((s=r.querySelector(".job-card-pre-heading"))==null?void 0:s.textContent);return g(e)},w=r=>{let o=g(r),t=!o||o==="*",e=p(),s=0;if(e.forEach(u=>{let A=h(u),L=t||A===o;u.style.display=L?"":"none",L&&s++}),t)console.log("[filter] value: * shown:",s,"/",e.length);else{let u=Array.from(e).slice(0,5).map(A=>({loc:h(A)}));console.log("[filter] value:",r,"\u2192",o,"shown:",s,"/",e.length,"sample:",u)}},v=r=>{let o=r.target.closest("[data-filter]");if(!o||!document.contains(o)||!n.contains(o))return;let t=(o.getAttribute("data-filter")||"*").trim();n.dataset.selected=t,y(t,o),w(t),requestAnimationFrame(()=>{n.classList.contains("w--open")&&(d==null||d.click()),setTimeout(()=>{var e;n.classList.contains("w--open")&&(n.classList.remove("w--open"),(e=l==null?void 0:l.style)==null||e.removeProperty("display"))},20)})};document.addEventListener("click",v);let f=n.dataset.selected||"*";n.dataset.selected=f,y(f),w(f),a.dataset.filterAttached="true"}function i(){let a=document.querySelectorAll("[data-filter-scope]");a.length?a.forEach(n=>{n.dataset.filterAttached||c(n)}):document.body.dataset.filterAttached||c(document.body)}document.addEventListener("DOMContentLoaded",i),new MutationObserver(i).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(i,50)})();document.addEventListener("DOMContentLoaded",()=>{S(),b()});})();
