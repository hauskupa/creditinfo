(()=>{function b(){var c;let s=document.querySelector("[data-subnav]"),u=s&&s.querySelector("[data-underline]");if(!s||!u)return;let l=[...s.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let e=t.getAttribute("href").slice(1),r=document.getElementById(e);return r?{a:t,id:e,sec:r}:null}).filter(Boolean);if(!l.length)return;let n=(t=>parseFloat(t)||0)(s.getAttribute("data-scroll-offset")),o=((c=document.querySelector(".nav_component"))==null?void 0:c.offsetHeight)||0,d=n||o,m=[],g=()=>{m=l.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),p()};function v(t){let e=t.getBoundingClientRect(),r=s.getBoundingClientRect(),w=e.left-r.left+e.width*.5;u.style.left="0px",u.style.width=w+"px"}function h(t){l.forEach(r=>r.a.removeAttribute("aria-current"));let e=l[t].a;e.setAttribute("aria-current","page"),v(e)}function p(){let t=window.scrollY+d+1,e=0;for(let r=0;r<m.length&&m[r]<=t;r++)e=r;h(e)}l.forEach((t,e)=>{t.a.addEventListener("click",r=>{r.preventDefault();let w=m[e]-d;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),h(e)}),t.a.addEventListener("mouseenter",()=>v(t.a)),t.a.addEventListener("focus",()=>v(t.a))}),s.addEventListener("mouseleave",p);let i=!1,a=()=>{i||(i=!0,requestAnimationFrame(()=>{p(),i=!1}))};window.addEventListener("load",()=>{g(),p()}),window.addEventListener("resize",g),window.addEventListener("scroll",a,{passive:!0})}function A(){let s=f=>String(f||"").toLowerCase().replace(/\/+$/,""),u=s(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(f=>{let l=f.getAttribute("href")||"",y=f.getAttribute("data-section")||l,n=s(y);if(!n)return;(n===""||n==="/"?u===""||u==="/":u.startsWith(n))?f.setAttribute("data-active","true"):f.removeAttribute("data-active")})}(()=>{let s=(...n)=>console.log("[filter]",...n),u=(...n)=>console.warn("[filter]",...n);function f(n){let o=n.querySelector("[data-filter-dropdown]"),d=o==null?void 0:o.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),m=o==null?void 0:o.querySelector("[data-filter-menu]");if(!o||!d||!m){u("missing dropdown pieces in scope",n);return}let g=(i,a)=>{var t;let c=i==="*"?"All regions":((t=a==null?void 0:a.textContent)==null?void 0:t.trim())||i;d.tagName==="INPUT"?d.value=c:d.textContent=c},v=i=>{let a=i==="*"||!i,c=n.querySelectorAll("[data-card]"),t=0;c.forEach(e=>{var L;let r=(((L=e.querySelector("[data-location]"))==null?void 0:L.textContent)||"").trim().toLowerCase(),w=a||r===i.toLowerCase();e.style.display=w?"":"none",w&&t++}),s("filter",i,"\u2192 showing",t,"of",c.length)},h=i=>{var t;let a=i.target.closest("[data-filter]");if(!a||!n.contains(a))return;let c=((t=a.getAttribute("data-filter"))==null?void 0:t.trim())||"*";o.dataset.selected=c,g(c,a),v(c),requestAnimationFrame(()=>{o.classList.contains("w--open")&&(d==null||d.click()),setTimeout(()=>{var e;o.classList.contains("w--open")&&(o.classList.remove("w--open"),(e=m==null?void 0:m.style)==null||e.removeProperty("display"))},20)})};document.addEventListener("click",h);let p=o.dataset.selected||"*";o.dataset.selected=p,g(p),v(p),n.dataset.filterAttached="true"}function l(){document.querySelectorAll("[data-filter-scope]").forEach(n=>{n.dataset.filterAttached||f(n)})}document.addEventListener("DOMContentLoaded",l),new MutationObserver(()=>l()).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(l,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
