(()=>{function v(){var y;let o=document.querySelector("[data-subnav]"),r=o&&o.querySelector("[data-underline]");if(!o||!r)return;let a=[...o.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let e=t.getAttribute("href").slice(1),n=document.getElementById(e);return n?{a:t,id:e,sec:n}:null}).filter(Boolean);if(!a.length)return;let s=(t=>parseFloat(t)||0)(o.getAttribute("data-scroll-offset")),h=((y=document.querySelector(".nav_component"))==null?void 0:y.offsetHeight)||0,g=s||h,c=[],w=()=>{c=a.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),l()};function d(t){let e=t.getBoundingClientRect(),n=o.getBoundingClientRect(),f=e.left-n.left+e.width*.5;r.style.left="0px",r.style.width=f+"px"}function b(t){a.forEach(n=>n.a.removeAttribute("aria-current"));let e=a[t].a;e.setAttribute("aria-current","page"),d(e)}function l(){let t=window.scrollY+g+1,e=0;for(let n=0;n<c.length&&c[n]<=t;n++)e=n;b(e)}a.forEach((t,e)=>{t.a.addEventListener("click",n=>{n.preventDefault();let f=c[e]-g;window.scrollTo({top:f,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),b(e)}),t.a.addEventListener("mouseenter",()=>d(t.a)),t.a.addEventListener("focus",()=>d(t.a))}),o.addEventListener("mouseleave",l);let u=!1,A=()=>{u||(u=!0,requestAnimationFrame(()=>{l(),u=!1}))};window.addEventListener("load",()=>{w(),l()}),window.addEventListener("resize",w),window.addEventListener("scroll",A,{passive:!0})}function m(){let o=i=>String(i||"").toLowerCase().replace(/\/+$/,""),r=o(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(i=>{let a=i.getAttribute("href")||"",p=i.getAttribute("data-section")||a,s=o(p);if(!s)return;(s===""||s==="/"?r===""||r==="/":r.startsWith(s))?i.setAttribute("data-active","true"):i.removeAttribute("data-active")})}document.addEventListener("DOMContentLoaded",()=>{m(),v()});})();
