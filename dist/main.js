(()=>{function b(){var e;let a=document.querySelector("[data-subnav]"),l=a&&a.querySelector("[data-underline]");if(!a||!l)return;let i=[...a.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let o=t.getAttribute("href").slice(1),s=document.getElementById(o);return s?{a:t,id:o,sec:s}:null}).filter(Boolean);if(!i.length)return;let c=(t=>parseFloat(t)||0)(a.getAttribute("data-scroll-offset")),g=((e=document.querySelector(".nav_component"))==null?void 0:e.offsetHeight)||0,w=c||g,d=[],y=()=>{d=i.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),f()};function h(t){let o=t.getBoundingClientRect(),s=a.getBoundingClientRect(),p=o.left-s.left+o.width*.5;l.style.left="0px",l.style.width=p+"px"}function u(t){i.forEach(s=>s.a.removeAttribute("aria-current"));let o=i[t].a;o.setAttribute("aria-current","page"),h(o)}function f(){let t=window.scrollY+w+1,o=0;for(let s=0;s<d.length&&d[s]<=t;s++)o=s;u(o)}i.forEach((t,o)=>{t.a.addEventListener("click",s=>{s.preventDefault();let p=d[o]-w;window.scrollTo({top:p,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),u(o)}),t.a.addEventListener("mouseenter",()=>h(t.a)),t.a.addEventListener("focus",()=>h(t.a))}),a.addEventListener("mouseleave",f);let m=!1,r=()=>{m||(m=!0,requestAnimationFrame(()=>{f(),m=!1}))};window.addEventListener("load",()=>{y(),f()}),window.addEventListener("resize",y),window.addEventListener("scroll",r,{passive:!0})}function A(){let a=n=>String(n||"").toLowerCase().replace(/\/+$/,""),l=a(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(n=>{let i=n.getAttribute("href")||"",v=n.getAttribute("data-section")||i,c=a(v);if(!c)return;(c===""||c==="/"?l===""||l==="/":l.startsWith(c))?n.setAttribute("data-active","true"):n.removeAttribute("data-active")})}(()=>{let a=n=>(n||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase();function l(n){if(n.dataset.filterAttached)return;n.dataset.filterAttached="true";let i=n.querySelector("[data-filter-toggle], .w-dropdown-toggle"),v=n.querySelector("[data-filter-menu], .w-dropdown-list");if(!i||!v)return;let c=i.firstElementChild||i,g=(r,e)=>{var o;let t=a(r)==="*"?"All":((o=e==null?void 0:e.textContent)==null?void 0:o.trim())||r;c instanceof HTMLInputElement?c.value=t:c.textContent=t},w=()=>[...document.querySelectorAll("[data-card]")].filter(r=>!r.closest("[data-filter-dropdown]")),d=r=>{let e=r.querySelector("[data-location]"),t=e==null?void 0:e.getAttribute("data-location");return a(t||(e==null?void 0:e.textContent)||r.textContent||"")},y=r=>r.style.setProperty("display","none","important"),h=r=>r.style.removeProperty("display"),u=r=>{let e=a(r),t=!e||e==="*",o=w(),s=0;o.forEach(p=>{let E=d(p),L=t||E===e||E.includes(e);(L?h:y)(p),L&&s++}),console.log("[filter]",r,"\u2192",s,"/",o.length)},f=()=>{n.classList.remove("w--open"),v.style.removeProperty("display")};n.addEventListener("click",r=>{let e=r.target.closest("[data-filter]");if(!e||!n.contains(e))return;let t=(e.getAttribute("data-filter")||"*").trim();n.dataset.selected=t,g(t,e),u(t),f()});let m=n.dataset.selected||"*";g(m),u(m),new MutationObserver(()=>{u(n.dataset.selected||"*")}).observe(document.documentElement,{childList:!0,subtree:!0})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-filter-dropdown]").forEach(l)})})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
