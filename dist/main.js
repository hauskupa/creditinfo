(()=>{function b(){var y;let c=document.querySelector("[data-subnav]"),u=c&&c.querySelector("[data-underline]");if(!c||!u)return;let i=[...c.querySelectorAll('[data-subnav-link][href^="#"]')].map(n=>{let r=n.getAttribute("href").slice(1),l=document.getElementById(r);return l?{a:n,id:r,sec:l}:null}).filter(Boolean);if(!i.length)return;let d=(n=>parseFloat(n)||0)(c.getAttribute("data-scroll-offset")),g=((y=document.querySelector(".nav_component"))==null?void 0:y.offsetHeight)||0,v=d||g,m=[],e=()=>{m=i.map(n=>n.sec.getBoundingClientRect().top+window.scrollY),s()};function t(n){let r=n.getBoundingClientRect(),l=c.getBoundingClientRect(),w=r.left-l.left+r.width*.5;u.style.left="0px",u.style.width=w+"px"}function o(n){i.forEach(l=>l.a.removeAttribute("aria-current"));let r=i[n].a;r.setAttribute("aria-current","page"),t(r)}function s(){let n=window.scrollY+v+1,r=0;for(let l=0;l<m.length&&m[l]<=n;l++)r=l;o(r)}i.forEach((n,r)=>{n.a.addEventListener("click",l=>{l.preventDefault();let w=m[r]-v;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+n.id),o(r)}),n.a.addEventListener("mouseenter",()=>t(n.a)),n.a.addEventListener("focus",()=>t(n.a))}),c.addEventListener("mouseleave",s);let a=!1,p=()=>{a||(a=!0,requestAnimationFrame(()=>{s(),a=!1}))};window.addEventListener("load",()=>{e(),s()}),window.addEventListener("resize",e),window.addEventListener("scroll",p,{passive:!0})}function A(){let c=f=>String(f||"").toLowerCase().replace(/\/+$/,""),u=c(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(f=>{let i=f.getAttribute("href")||"",h=f.getAttribute("data-section")||i,d=c(h);if(!d)return;(d===""||d==="/"?u===""||u==="/":u.startsWith(d))?f.setAttribute("data-active","true"):f.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let c=e=>(e||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),u=e=>e.style.setProperty("display","none","important"),f=e=>e.style.removeProperty("display"),i=e=>{var a;let t=e.querySelector("[data-location]"),o=t==null?void 0:t.getAttribute("data-location");if(o)return c(o);let s=(t==null?void 0:t.textContent)||((a=e.querySelector(".job-card-pre-heading"))==null?void 0:a.textContent);return s&&s.trim()?c(s):c(e.textContent||"")},h=e=>{let t=e.querySelectorAll("[data-card]");return t.length||(t=e.querySelectorAll("[role='listitem']"),t.length)?t:document.querySelectorAll("[data-card], [role='listitem']")},d=(e,t)=>{let o=c(t),s=!o||o==="*",a=h(e),p=0;a.forEach(r=>{let l=i(r);s||l===o||l.includes(o)?(f(r),p++):u(r)});let y=e.querySelector("[data-filter-empty]")||document.querySelector("[data-filter-empty]");y&&(y.style.display=p===0?"":"none");let n=Array.from(a).slice(0,5).map(r=>i(r));console.log("[filter] value:",s?"*":t,"\u2192",o,"shown:",p,"/",a.length,"sample:",n)},g=(e,t,o)=>{var y;let s=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||e,a=s.firstElementChild||s,p=c(t)==="*"?"All regions":((y=o==null?void 0:o.textContent)==null?void 0:y.trim())||t;a.tagName==="INPUT"?a.value=p:a.textContent=p},v=e=>{let t=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||e,o=e.querySelector("[data-filter-menu]");requestAnimationFrame(()=>{e.classList.contains("w--open")&&(t==null||t.click()),setTimeout(()=>{var s;e.classList.contains("w--open")&&(e.classList.remove("w--open"),(s=o==null?void 0:o.style)==null||s.removeProperty("display"))},20)})},m=()=>{let e=document.querySelectorAll("[data-filter-scope]");if(e.length)e.forEach(t=>{if(t.dataset.filterAttached)return;let o=t.querySelector("[data-filter-dropdown]")||t;o.dataset.selected=o.dataset.selected||"*",g(o,o.dataset.selected),d(t,o.dataset.selected),t.dataset.filterAttached="true"});else if(!document.body.dataset.filterAttached){let t=document.body.querySelector("[data-filter-dropdown]")||document.body;t.dataset.selected=t.dataset.selected||"*",g(t,t.dataset.selected),d(document.body,t.dataset.selected),document.body.dataset.filterAttached="true"}};document.addEventListener("click",e=>{let t=e.target.closest("[data-filter]");if(!t)return;let o=t.closest("[data-filter-dropdown]")||t.closest(".w-dropdown");if(!o)return;let s=o.closest("[data-filter-scope]")||t.closest("[data-filter-scope]")||document.body,a=(t.getAttribute("data-filter")||"*").trim();o.dataset.selected=a,g(o,a,t),d(s,a),v(o)},!0),document.addEventListener("DOMContentLoaded",m),new MutationObserver(m).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(m,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
