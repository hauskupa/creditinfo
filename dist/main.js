// Build version: 841434 (2025-09-25T13:44:01.434Z)
(()=>{function E(){var w;let t=document.querySelector("[data-subnav]"),o=t&&t.querySelector("[data-underline]");if(!t||!o)return;let d=[...t.querySelectorAll('[data-subnav-link][href^="#"]')].map(p=>{let e=p.getAttribute("href").slice(1),a=document.getElementById(e);return a?{a:p,id:e,sec:a}:null}).filter(Boolean);if(!d.length)return;let r=(p=>parseFloat(p)||0)(t.getAttribute("data-scroll-offset")),s=((w=document.querySelector(".nav_component"))==null?void 0:w.offsetHeight)||0,u=r||s,m=[],g=()=>{m=d.map(p=>p.sec.getBoundingClientRect().top+window.scrollY),v()};function i(p){let e=p.getBoundingClientRect(),a=t.getBoundingClientRect(),f=e.left-a.left+e.width*.5;o.style.left="0px",o.style.width=f+"px"}function c(p){d.forEach(a=>a.a.removeAttribute("aria-current"));let e=d[p].a;e.setAttribute("aria-current","page"),i(e)}function v(){let p=window.scrollY+u+1,e=0;for(let a=0;a<m.length&&m[a]<=p;a++)e=a;c(e)}d.forEach((p,e)=>{p.a.addEventListener("click",a=>{a.preventDefault();let f=m[e]-u;window.scrollTo({top:f,behavior:"smooth"}),history.replaceState(null,"","#"+p.id),c(e)}),p.a.addEventListener("mouseenter",()=>i(p.a)),p.a.addEventListener("focus",()=>i(p.a))}),t.addEventListener("mouseleave",v);let h=!1,S=()=>{h||(h=!0,requestAnimationFrame(()=>{v(),h=!1}))};window.addEventListener("load",()=>{g(),v()}),window.addEventListener("resize",g),window.addEventListener("scroll",S,{passive:!0})}function q(){console.debug("[topnav] initTopnav");let t=l=>String(l||"").toLowerCase().replace(/\/+$/,""),o=t(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(l=>{let r=l.getAttribute("href")||"",s=l.getAttribute("data-section")||r,u=t(s);if(!u)return;(u===""||u==="/"?o===""||o==="/":o.startsWith(u))?l.setAttribute("data-active","true"):l.removeAttribute("data-active")});let n=document.body,d=[...document.querySelectorAll("[data-scroll-toggle], .nav_button, .w-dropdown-toggle")];if(d.length){let l=0,r=0,s=()=>{l===0&&(r=window.scrollY||window.pageYOffset||0,n.setAttribute("data-scroll","false"),n.style.position="fixed",n.style.left="0",n.style.right="0",n.style.top=`-${r}px`),l++,console.debug("[topnav] lockScroll",l)},u=()=>{l=Math.max(0,l-1),console.debug("[topnav] unlockScroll",l),l===0&&(n.setAttribute("data-scroll","true"),n.style.removeProperty("position"),n.style.removeProperty("left"),n.style.removeProperty("right"),n.style.removeProperty("top"),window.scrollTo(0,r),r=0)},m=i=>{(i&&i.getAttribute&&i.getAttribute("aria-expanded"))==="true"?s():u()},g=new MutationObserver(i=>{for(let c of i)c.attributeName==="aria-expanded"&&c.target&&m(c.target)});d.forEach(i=>{try{g.observe(i,{attributes:!0})}catch{}i.addEventListener("click",()=>{setTimeout(()=>{if(i.hasAttribute("aria-expanded"))m(i);else{let c=i.getAttribute("data-scroll-open")==="true";i.setAttribute("data-scroll-open",c?"false":"true"),c?u():s()}},40)},{passive:!0}),i.getAttribute("aria-expanded")==="true"&&m(i),i.getAttribute("data-scroll-open")==="true"&&s()})}}function M(){console.log("[solutions] init");let t=document.querySelector("[data-solutions]");if(!t)return console.log("[solutions] no wrapper");let o=t.getAttribute("data-solutions"),n=[...t.querySelectorAll("[data-solutions-card]")];if(!n.length)return console.log("[solutions] no cards");n.forEach(l=>{let r=l.querySelector(".card-text-clip");r&&(r.style.removeProperty("height"),r.style.overflow="hidden",r.style.transition||(r.style.transition="max-height 400ms ease"),r.style.maxHeight="0px")});function d(l){n.forEach(r=>{var m;let s=r===l;r.classList.toggle("is-active",s),r.style.opacity=s?"1":"0.5";let u=r.querySelector(".card-text-clip");u&&(u.style.maxHeight=s?(((m=u.firstElementChild)==null?void 0:m.scrollHeight)||0)+"px":"0px")})}if(o==="scroll"){console.log("[solutions] scroll mode");let l=[...document.querySelectorAll("[data-solutions-content]")];if(!l.length)return console.log("[solutions] no sections");let r=new IntersectionObserver(s=>{let u=s.filter(i=>i.isIntersecting).sort((i,c)=>c.intersectionRatio-i.intersectionRatio)[0];if(!u)return;let m=u.target.getAttribute("data-solutions-content"),g=n.find(i=>i.getAttribute("data-solutions-card")===m);g&&d(g)},{rootMargin:"-30% 0px -60% 0px",threshold:[0,.25,.5,.75,1]});l.forEach(s=>r.observe(s)),d(n[0])}else if(o==="autoplay"){console.log("[solutions] autoplay mode");let l=0;(function r(){d(n[l]),l=(l+1)%n.length,setTimeout(r,4e3)})()}else console.log("[solutions] unknown mode:",o)}var B=!1,k=t=>(t||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),b=260,D=t=>{t.__filterAnim&&(clearTimeout(t.__filterAnim),t.__filterAnim=null),t.style.removeProperty("display");let o=t.scrollHeight||0;t.style.overflow="hidden",t.style.maxHeight=o+"px",t.style.opacity="1",t.style.transition=`opacity ${b-60}ms ease, max-height ${b}ms ease`,requestAnimationFrame(()=>{t.style.maxHeight="0px",t.style.opacity="0"}),t.__filterAnim=setTimeout(()=>{t.style.setProperty("display","none","important"),t.style.removeProperty("max-height"),t.style.removeProperty("opacity"),t.style.removeProperty("overflow"),t.style.removeProperty("transition"),t.__filterAnim=null},b)},N=t=>{t.__filterAnim&&(clearTimeout(t.__filterAnim),t.__filterAnim=null),t.style.removeProperty("display"),getComputedStyle(t).display==="none"&&(t.style.display="block");let o=t.scrollHeight||0;t.style.overflow="hidden",t.style.maxHeight="0px",t.style.opacity="0",t.style.transition=`opacity ${b-60}ms ease, max-height ${b}ms ease`,requestAnimationFrame(()=>{t.style.maxHeight=o+"px",t.style.opacity="1"}),t.__filterAnim=setTimeout(()=>{t.style.removeProperty("max-height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition"),t.__filterAnim=null},b)};function W(t){return[...t.querySelectorAll("[data-card]")]}function R(t){if(!t.dataset.locCache){let o=t.querySelector("[data-location]"),n=(o==null?void 0:o.getAttribute("data-location"))||(o==null?void 0:o.textContent)||"";t.dataset.locCache=k(n)}return t.dataset.locCache}function P(t,o){let n=k(o),d=!n||n==="*",l=W(t),r=0;l.forEach(s=>{let u=d||R(s)===n||R(s).includes(n);(u?N:D)(s),u&&r++}),console.log("[filter]",n||"*","shown:",r,"/",l.length)}function $(t){if(t.__filterAttached)return;t.__filterAttached=!0,t.hasAttribute&&t.hasAttribute("data-filter-attached")&&t.removeAttribute("data-filter-attached");let o=t.querySelector("[data-filter-dropdown]"),n=o==null?void 0:o.querySelector("[data-filter-toggle], .w-dropdown-toggle"),d=o==null?void 0:o.querySelector("[data-filter-menu], .w-dropdown-list"),l=(g,i)=>{var h;if(!n)return;let c=n.firstElementChild||n,v=k(g)==="*"?"All":((h=i==null?void 0:i.textContent)==null?void 0:h.trim())||g;c instanceof HTMLInputElement?c.value=v:c.textContent=v},r=()=>{var g;if(o&&(o.classList.remove("w--open"),(g=d==null?void 0:d.style)==null||g.removeProperty("display"),n)){try{n.setAttribute("aria-expanded","false")}catch{}n instanceof HTMLElement&&n.blur(),requestAnimationFrame(()=>{if(o.classList.contains("w--open"))try{n.click()}catch{}})}},s=g=>{let i=(g||"*").trim();t.querySelectorAll("[data-filter]").forEach(c=>{let h=(c.getAttribute("data-filter")||"*").trim()===i;h?c.setAttribute("data-active","true"):c.removeAttribute("data-active"),c.setAttribute("aria-pressed",h?"true":"false")})};t.addEventListener("click",g=>{let i=g.target.closest("[data-filter]");if(!i||!t.contains(i))return;let c=(i.getAttribute("data-filter")||"*").trim();t.dataset.selected=c,P(t,c),s(c),o&&(l(c,i),r())},{passive:!0});let u=()=>{if(!o)return;new Set([...t.querySelectorAll("[data-filter]"),...d?[...d.querySelectorAll("[data-filter]")]:[],...[...document.querySelectorAll("[data-filter]")].filter(i=>{let c=i.closest("[data-filter-dropdown]");return c&&c.isSameNode(o)})]).forEach(i=>{i.__filterBound||(i.__filterBound=!0,i.addEventListener("click",c=>{let v=c.target.closest("[data-filter]")||i;if(!v)return;let h=(v.getAttribute("data-filter")||"*").trim();t.dataset.selected=h,P(t,h),s(h),o&&(l(h,v),r())},{capture:!0,passive:!0}))})};u(),setTimeout(u,300);let m=t.dataset.selected||"*";t.dataset.selected=m,P(t,m),s(m),o&&l(m)}function F(){document.querySelectorAll("[data-filter-scope]").forEach($)}function I(t={}){let{observe:o=!0}=t;console.log("[filter] init"),F(),o&&!B&&(B=!0,new MutationObserver(F).observe(document.documentElement,{childList:!0,subtree:!0}))}function _(){if(window.__creditinfo_staff_cards_inited)return;window.__creditinfo_staff_cards_inited=!0;let t=Array.from(document.querySelectorAll('[data-team="wrap"]'));t.length&&t.forEach(o=>{if(o.__staffCardsAttached)return;o.__staffCardsAttached=!0;let n=o.querySelector('[data-team="grid"]');if(!n)return;let d=o.querySelector(".bio-panel");d||(d=document.createElement("div"),d.className="bio-panel",o.appendChild(d));let l=Array.from(n.querySelectorAll(".team-card"));l.forEach(e=>e.classList.add("is-closed"));let r=null,s=null,u=null;function m(){let e=getComputedStyle(n),f=e.getPropertyValue("grid-template-columns").trim().split(" ").filter(Boolean).length||1,y=n.getBoundingClientRect(),A=o.getBoundingClientRect(),x=parseFloat(e.getPropertyValue("column-gap"))||0,L=parseFloat(e.getPropertyValue("padding-left"))||0,C=(n.clientWidth-x*(f-1))/f,T=y.left-A.left+L;return{colCount:f,colWidth:C,gap:x,contentLeft:T,wrapRect:A}}function g(e){return l.indexOf(e)}function i(e){l.forEach(a=>{let f=a===e;a.classList.toggle("is-open",f),a.classList.toggle("is-closed",!f),a.classList.toggle("dim",!f);let y=a.querySelector(".team-trigger[aria-expanded]");y&&y.setAttribute("aria-expanded",f?"true":"false")})}function c(){u==="grid"&&s&&r&&(s.style.removeProperty("grid-column"),s.style.removeProperty("grid-row"),r.appendChild(s)),u==="panel"&&(d.classList.remove("is-open"),d.innerHTML=""),r=null,s=null,u=null,l.forEach(e=>{e.classList.remove("is-open","dim"),e.classList.add("is-closed");let a=e.querySelector(".team-trigger[aria-expanded]");a&&a.setAttribute("aria-expanded","false")})}function v(e,a,f){let y=e.querySelector(".bio");y&&(e.nextSibling?n.insertBefore(y,e.nextSibling):n.appendChild(y),y.style.gridColumn=a+1+" / span 1",y.style.gridRow=f,s=y,u="grid")}function h(e,a){let f=e.querySelector(".bio");d.innerHTML=f?f.innerHTML:"<p>No bio available.</p>";let{colWidth:y,gap:A,contentLeft:x,wrapRect:L,colCount:H}=m(),C=a===H?a-1:a+1,O=e.getBoundingClientRect().top-L.top,V=x+(C-1)*(y+A);d.style.width=y+"px",d.style.left=V+"px",d.style.top=O+"px",requestAnimationFrame(()=>d.classList.add("is-open")),u="panel"}function S(e){let{colCount:a}=m(),f=g(e),y=f%a+1,A=Math.floor(f/a)+1;i(e),y<a?(d.classList.remove("is-open"),d.innerHTML="",v(e,y,A)):(s&&r&&(s.style.removeProperty("grid-column"),s.style.removeProperty("grid-row"),r.appendChild(s),s=null),h(e,y)),r=e}function w(e){e.classList.contains("is-open")?c():(c(),S(e))}n.__teamGridClickAttached||(n.__teamGridClickAttached=!0,n.addEventListener("click",e=>{let a=e.target.closest(".team-trigger");if(!a||!n.contains(a))return;e.preventDefault();let f=a.closest(".team-card");f&&w(f)})),o.__teamGlobalHandlers||(o.__teamGlobalHandlers=!0,document.addEventListener("click",e=>{o.contains(e.target)||c()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&c()}));function p(){if(!r||!r.classList.contains("is-open"))return;let{colCount:e}=m(),a=g(r),f=a%e+1,y=Math.floor(a/e)+1;f<e?u!=="grid"?(d.classList.remove("is-open"),d.innerHTML="",v(r,f,y)):s&&(s.style.gridColumn=f+1+" / span 1",s.style.gridRow=y,s.previousSibling!==r&&(r.nextSibling?n.insertBefore(s,r.nextSibling):n.appendChild(s))):(u==="grid"&&s&&r&&(s.style.removeProperty("grid-column"),s.style.removeProperty("grid-row"),r.appendChild(s),s=null),h(r,f))}window.addEventListener("resize",p),window.addEventListener("scroll",p,{passive:!0})})}window.__creditinfo_staff_cards_auto_init||(window.__creditinfo_staff_cards_auto_init=!0,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_):_());console.log("test-2025-09-24 from src/main.js");document.addEventListener("DOMContentLoaded",()=>{q(),E(),M(),I({observe:!0}),_()});})();
