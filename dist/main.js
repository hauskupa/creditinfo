(()=>{function b(){var y;let l=document.querySelector("[data-subnav]"),u=l&&l.querySelector("[data-underline]");if(!l||!u)return;let i=[...l.querySelectorAll('[data-subnav-link][href^="#"]')].map(n=>{let r=n.getAttribute("href").slice(1),c=document.getElementById(r);return c?{a:n,id:r,sec:c}:null}).filter(Boolean);if(!i.length)return;let d=(n=>parseFloat(n)||0)(l.getAttribute("data-scroll-offset")),g=((y=document.querySelector(".nav_component"))==null?void 0:y.offsetHeight)||0,v=d||g,m=[],e=()=>{m=i.map(n=>n.sec.getBoundingClientRect().top+window.scrollY),a()};function t(n){let r=n.getBoundingClientRect(),c=l.getBoundingClientRect(),w=r.left-c.left+r.width*.5;u.style.left="0px",u.style.width=w+"px"}function o(n){i.forEach(c=>c.a.removeAttribute("aria-current"));let r=i[n].a;r.setAttribute("aria-current","page"),t(r)}function a(){let n=window.scrollY+v+1,r=0;for(let c=0;c<m.length&&m[c]<=n;c++)r=c;o(r)}i.forEach((n,r)=>{n.a.addEventListener("click",c=>{c.preventDefault();let w=m[r]-v;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+n.id),o(r)}),n.a.addEventListener("mouseenter",()=>t(n.a)),n.a.addEventListener("focus",()=>t(n.a))}),l.addEventListener("mouseleave",a);let s=!1,p=()=>{s||(s=!0,requestAnimationFrame(()=>{a(),s=!1}))};window.addEventListener("load",()=>{e(),a()}),window.addEventListener("resize",e),window.addEventListener("scroll",p,{passive:!0})}function A(){let l=f=>String(f||"").toLowerCase().replace(/\/+$/,""),u=l(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(f=>{let i=f.getAttribute("href")||"",h=f.getAttribute("data-section")||i,d=l(h);if(!d)return;(d===""||d==="/"?u===""||u==="/":u.startsWith(d))?f.setAttribute("data-active","true"):f.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let l=e=>(e||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),u=e=>e.style.setProperty("display","none","important"),f=e=>e.style.removeProperty("display"),i=e=>{var s;let t=e.querySelector("[data-location]"),o=t==null?void 0:t.getAttribute("data-location");if(o)return l(o);let a=(t==null?void 0:t.textContent)||((s=e.querySelector(".job-card-pre-heading"))==null?void 0:s.textContent);return l(a)},h=e=>{let t=e.querySelectorAll("[data-card]");return t.length||(t=e.querySelectorAll("[role='listitem']"),t.length)?t:document.querySelectorAll("[data-card], [role='listitem']")},d=(e,t)=>{let o=l(t),a=!o||o==="*",s=h(e),p=0;s.forEach(r=>{let c=i(r);a||c===o||c.includes(o)?(f(r),p++):u(r)});let y=e.querySelector("[data-filter-empty]")||document.querySelector("[data-filter-empty]");y&&(y.style.display=p===0?"":"none");let n=Array.from(s).slice(0,5).map(r=>i(r));console.log("[filter] value:",a?"*":t,"\u2192",o,"shown:",p,"/",s.length,"sample:",n)},g=(e,t,o)=>{var y;let a=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||e,s=a.firstElementChild||a,p=l(t)==="*"?"All regions":((y=o==null?void 0:o.textContent)==null?void 0:y.trim())||t;s.tagName==="INPUT"?s.value=p:s.textContent=p},v=e=>{let t=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||e,o=e.querySelector("[data-filter-menu]");requestAnimationFrame(()=>{e.classList.contains("w--open")&&(t==null||t.click()),setTimeout(()=>{var a;e.classList.contains("w--open")&&(e.classList.remove("w--open"),(a=o==null?void 0:o.style)==null||a.removeProperty("display"))},20)})},m=()=>{let e=document.querySelectorAll("[data-filter-scope]");if(e.length)e.forEach(t=>{if(t.dataset.filterAttached)return;let o=t.querySelector("[data-filter-dropdown]")||t;o.dataset.selected=o.dataset.selected||"*",g(o,o.dataset.selected),d(t,o.dataset.selected),t.dataset.filterAttached="true"});else if(!document.body.dataset.filterAttached){let t=document.body.querySelector("[data-filter-dropdown]")||document.body;t.dataset.selected=t.dataset.selected||"*",g(t,t.dataset.selected),d(document.body,t.dataset.selected),document.body.dataset.filterAttached="true"}};document.addEventListener("click",e=>{let t=e.target.closest("[data-filter]");if(!t)return;let o=t.closest("[data-filter-dropdown]")||t.closest(".w-dropdown");if(!o)return;let a=o.closest("[data-filter-scope]")||t.closest("[data-filter-scope]")||document.body,s=(t.getAttribute("data-filter")||"*").trim();o.dataset.selected=s,g(o,s,t),d(a,s),v(o)},!0),document.addEventListener("DOMContentLoaded",m),new MutationObserver(m).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(m,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
