(()=>{function b(){var y;let c=document.querySelector("[data-subnav]"),d=c&&c.querySelector("[data-underline]");if(!c||!d)return;let f=[...c.querySelectorAll('[data-subnav-link][href^="#"]')].map(n=>{let a=n.getAttribute("href").slice(1),l=document.getElementById(a);return l?{a:n,id:a,sec:l}:null}).filter(Boolean);if(!f.length)return;let i=(n=>parseFloat(n)||0)(c.getAttribute("data-scroll-offset")),g=((y=document.querySelector(".nav_component"))==null?void 0:y.offsetHeight)||0,v=i||g,m=[],e=()=>{m=f.map(n=>n.sec.getBoundingClientRect().top+window.scrollY),r()};function t(n){let a=n.getBoundingClientRect(),l=c.getBoundingClientRect(),w=a.left-l.left+a.width*.5;d.style.left="0px",d.style.width=w+"px"}function o(n){f.forEach(l=>l.a.removeAttribute("aria-current"));let a=f[n].a;a.setAttribute("aria-current","page"),t(a)}function r(){let n=window.scrollY+v+1,a=0;for(let l=0;l<m.length&&m[l]<=n;l++)a=l;o(a)}f.forEach((n,a)=>{n.a.addEventListener("click",l=>{l.preventDefault();let w=m[a]-v;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+n.id),o(a)}),n.a.addEventListener("mouseenter",()=>t(n.a)),n.a.addEventListener("focus",()=>t(n.a))}),c.addEventListener("mouseleave",r);let s=!1,p=()=>{s||(s=!0,requestAnimationFrame(()=>{r(),s=!1}))};window.addEventListener("load",()=>{e(),r()}),window.addEventListener("resize",e),window.addEventListener("scroll",p,{passive:!0})}function A(){let c=u=>String(u||"").toLowerCase().replace(/\/+$/,""),d=c(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(u=>{let f=u.getAttribute("href")||"",h=u.getAttribute("data-section")||f,i=c(h);if(!i)return;(i===""||i==="/"?d===""||d==="/":d.startsWith(i))?u.setAttribute("data-active","true"):u.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let c=e=>(e||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),d=e=>e.style.setProperty("display","none","important"),u=e=>e.style.removeProperty("display"),f=e=>{var s;let t=e.querySelector("[data-location]"),o=t==null?void 0:t.getAttribute("data-location");if(o)return c(o);let r=(t==null?void 0:t.textContent)||((s=e.querySelector(".job-card-pre-heading"))==null?void 0:s.textContent);return c(r)},h=e=>{let t=e.querySelectorAll("[data-card]");return t.length||(t=e.querySelectorAll("[role='listitem']"),t.length)?t:document.querySelectorAll("[data-card], [role='listitem']")},i=(e,t)=>{let o=c(t),r=!o||o==="*",s=h(e),p=0;s.forEach(n=>{let a=f(n);r||a===o?(u(n),p++):d(n)});let y=e.querySelector("[data-filter-empty]")||document.querySelector("[data-filter-empty]");y&&(y.style.display=p===0?"":"none"),console.log("[filter] value:",r?"*":t,"shown:",p,"/",s.length)},g=(e,t,o)=>{var y;let r=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||e,s=r.firstElementChild||r,p=c(t)==="*"?"All regions":((y=o==null?void 0:o.textContent)==null?void 0:y.trim())||t;s.tagName==="INPUT"?s.value=p:s.textContent=p},v=e=>{let t=e.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||e,o=e.querySelector("[data-filter-menu]");requestAnimationFrame(()=>{e.classList.contains("w--open")&&(t==null||t.click()),setTimeout(()=>{var r;e.classList.contains("w--open")&&(e.classList.remove("w--open"),(r=o==null?void 0:o.style)==null||r.removeProperty("display"))},20)})},m=()=>{let e=document.querySelectorAll("[data-filter-scope]");if(e.length)e.forEach(t=>{if(t.dataset.filterAttached)return;let o=t.querySelector("[data-filter-dropdown]")||t;o.dataset.selected=o.dataset.selected||"*",g(o,o.dataset.selected),i(t,o.dataset.selected),t.dataset.filterAttached="true"});else if(!document.body.dataset.filterAttached){let t=document.body.querySelector("[data-filter-dropdown]")||document.body;t.dataset.selected=t.dataset.selected||"*",g(t,t.dataset.selected),i(document.body,t.dataset.selected),document.body.dataset.filterAttached="true"}};document.addEventListener("click",e=>{let t=e.target.closest("[data-filter]");if(!t)return;let o=t.closest("[data-filter-dropdown]")||t.closest(".w-dropdown");if(!o)return;let r=o.closest("[data-filter-scope]")||t.closest("[data-filter-scope]")||document.body,s=(t.getAttribute("data-filter")||"*").trim();o.dataset.selected=s,g(o,s,t),i(r,s),v(o)},!0),document.addEventListener("DOMContentLoaded",m),new MutationObserver(m).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(m,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
