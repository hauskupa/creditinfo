(()=>{function b(){var h;let l=document.querySelector("[data-subnav]"),u=l&&l.querySelector("[data-underline]");if(!l||!u)return;let d=[...l.querySelectorAll('[data-subnav-link][href^="#"]')].map(e=>{let r=e.getAttribute("href").slice(1),o=document.getElementById(r);return o?{a:e,id:r,sec:o}:null}).filter(Boolean);if(!d.length)return;let n=(e=>parseFloat(e)||0)(l.getAttribute("data-scroll-offset")),f=((h=document.querySelector(".nav_component"))==null?void 0:h.offsetHeight)||0,m=n||f,t=[],i=()=>{t=d.map(e=>e.sec.getBoundingClientRect().top+window.scrollY),p()};function s(e){let r=e.getBoundingClientRect(),o=l.getBoundingClientRect(),w=r.left-o.left+r.width*.5;u.style.left="0px",u.style.width=w+"px"}function g(e){d.forEach(o=>o.a.removeAttribute("aria-current"));let r=d[e].a;r.setAttribute("aria-current","page"),s(r)}function p(){let e=window.scrollY+m+1,r=0;for(let o=0;o<t.length&&t[o]<=e;o++)r=o;g(r)}d.forEach((e,r)=>{e.a.addEventListener("click",o=>{o.preventDefault();let w=t[r]-m;window.scrollTo({top:w,behavior:"smooth"}),history.replaceState(null,"","#"+e.id),g(r)}),e.a.addEventListener("mouseenter",()=>s(e.a)),e.a.addEventListener("focus",()=>s(e.a))}),l.addEventListener("mouseleave",p);let v=!1,y=()=>{v||(v=!0,requestAnimationFrame(()=>{p(),v=!1}))};window.addEventListener("load",()=>{i(),p()}),window.addEventListener("resize",i),window.addEventListener("scroll",y,{passive:!0})}function S(){let l=a=>String(a||"").toLowerCase().replace(/\/+$/,""),u=l(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(a=>{let d=a.getAttribute("href")||"",c=a.getAttribute("data-section")||d,n=l(c);if(!n)return;(n===""||n==="/"?u===""||u==="/":u.startsWith(n))?a.setAttribute("data-active","true"):a.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let l=t=>(t||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),u=t=>t.style.setProperty("display","none","important"),a=t=>t.style.removeProperty("display");function d(t){return[...t.querySelectorAll("[data-card]")]}function c(t){let i=t.querySelector("[data-location]");return i?l(i.getAttribute("data-location")||i.textContent||""):""}function n(t,i){let s=l(i),g=!s||s==="*",p=d(t),v=0;p.forEach(y=>{let h=g||c(y)===s||c(y).includes(s);(h?a:u)(y),h&&v++}),console.log("[filter]",s||"*","shown:",v,"/",p.length)}function f(t){if(t.dataset.filterAttached)return;t.dataset.filterAttached="true";let i=t.querySelector("[data-filter-dropdown]"),s=i==null?void 0:i.querySelector("[data-filter-toggle], .w-dropdown-toggle"),g=i==null?void 0:i.querySelector("[data-filter-menu], .w-dropdown-list"),p=(e,r)=>{var A;if(!s)return;let o=s.firstElementChild||s,w=l(e)==="*"?"All":((A=r==null?void 0:r.textContent)==null?void 0:A.trim())||e;o instanceof HTMLInputElement?o.value=w:o.textContent=w},v=()=>{var e;i&&(i.classList.remove("w--open"),(e=g==null?void 0:g.style)==null||e.removeProperty("display"))},y=e=>{let r=(e||"*").trim();t.querySelectorAll("[data-filter]").forEach(o=>{let A=(o.getAttribute("data-filter")||"*").trim()===r;A?o.setAttribute("data-active","true"):o.removeAttribute("data-active"),o.setAttribute("aria-pressed",A?"true":"false")})};t.addEventListener("click",e=>{let r=e.target.closest("[data-filter]");if(!r)return;let o=(r.getAttribute("data-filter")||"*").trim();t.dataset.selected=o,n(t,o),y(o),i&&(p(o,r),v())});let h=t.dataset.selected||"*";t.dataset.selected=h,n(t,h),i&&p(h),y(h)}function m(){document.querySelectorAll("[data-filter-scope]").forEach(f)}document.addEventListener("DOMContentLoaded",m),new MutationObserver(m).observe(document.documentElement,{childList:!0,subtree:!0})})();function E(){console.log("[solutions] init");let l=document.querySelector("[data-solutions]");if(!l)return console.log("[solutions] no wrapper");let u=l.getAttribute("data-solutions"),a=[...l.querySelectorAll("[data-solutions-card]")];if(!a.length)return console.log("[solutions] no cards");a.forEach(c=>{let n=c.querySelector(".card-text-clip");n&&(n.style.removeProperty("height"),n.style.overflow="hidden",n.style.transition||(n.style.transition="max-height 400ms ease"),n.style.maxHeight="0px")});function d(c){a.forEach(n=>{var t;let f=n===c;n.classList.toggle("is-active",f),n.style.opacity=f?"1":"0.5";let m=n.querySelector(".card-text-clip");m&&(m.style.maxHeight=f?(((t=m.firstElementChild)==null?void 0:t.scrollHeight)||0)+"px":"0px")})}if(u==="scroll"){console.log("[solutions] scroll mode");let c=[...document.querySelectorAll("[data-solutions-content]")];if(!c.length)return console.log("[solutions] no sections");let n=new IntersectionObserver(f=>{let m=f.filter(s=>s.isIntersecting).sort((s,g)=>g.intersectionRatio-s.intersectionRatio)[0];if(!m)return;let t=m.target.getAttribute("data-solutions-content"),i=a.find(s=>s.getAttribute("data-solutions-card")===t);i&&d(i)},{rootMargin:"-30% 0px -60% 0px",threshold:[0,.25,.5,.75,1]});c.forEach(f=>n.observe(f)),d(a[0])}else if(u==="autoplay"){console.log("[solutions] autoplay mode");let c=0;(function n(){d(a[c]),c=(c+1)%a.length,setTimeout(n,4e3)})()}else console.log("[solutions] unknown mode:",u)}document.addEventListener("DOMContentLoaded",()=>{S(),b(),E()});})();
