(()=>{function b(){var a;let c=document.querySelector("[data-subnav]"),l=c&&c.querySelector("[data-underline]");if(!c||!l)return;let e=[...c.querySelectorAll('[data-subnav-link][href^="#"]')].map(t=>{let r=t.getAttribute("href").slice(1),i=document.getElementById(r);return i?{a:t,id:r,sec:i}:null}).filter(Boolean);if(!e.length)return;let d=(t=>parseFloat(t)||0)(c.getAttribute("data-scroll-offset")),m=((a=document.querySelector(".nav_component"))==null?void 0:a.offsetHeight)||0,v=d||m,p=[],y=()=>{p=e.map(t=>t.sec.getBoundingClientRect().top+window.scrollY),f()};function h(t){let r=t.getBoundingClientRect(),i=c.getBoundingClientRect(),g=r.left-i.left+r.width*.5;l.style.left="0px",l.style.width=g+"px"}function w(t){e.forEach(i=>i.a.removeAttribute("aria-current"));let r=e[t].a;r.setAttribute("aria-current","page"),h(r)}function f(){let t=window.scrollY+v+1,r=0;for(let i=0;i<p.length&&p[i]<=t;i++)r=i;w(r)}e.forEach((t,r)=>{t.a.addEventListener("click",i=>{i.preventDefault();let g=p[r]-v;window.scrollTo({top:g,behavior:"smooth"}),history.replaceState(null,"","#"+t.id),w(r)}),t.a.addEventListener("mouseenter",()=>h(t.a)),t.a.addEventListener("focus",()=>h(t.a))}),c.addEventListener("mouseleave",f);let n=!1,o=()=>{n||(n=!0,requestAnimationFrame(()=>{f(),n=!1}))};window.addEventListener("load",()=>{y(),f()}),window.addEventListener("resize",y),window.addEventListener("scroll",o,{passive:!0})}function A(){let c=s=>String(s||"").toLowerCase().replace(/\/+$/,""),l=c(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(s=>{let e=s.getAttribute("href")||"",u=s.getAttribute("data-section")||e,d=c(u);if(!d)return;(d===""||d==="/"?l===""||l==="/":l.startsWith(d))?s.setAttribute("data-active","true"):s.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");function c(s){let e=s.querySelector("[data-filter-dropdown]"),u=e==null?void 0:e.querySelector(".w-dropdown-toggle,[data-filter-toggle]"),d=e==null?void 0:e.querySelector("[data-filter-menu]");if(!e||!u||!d)return;let m=u.firstElementChild||u,v=(n,o)=>{var t;let a=n==="*"?"All regions":((t=o==null?void 0:o.textContent)==null?void 0:t.trim())||n;m.tagName==="INPUT"?m.value=a:m.textContent=a},p=()=>{let n=s.querySelectorAll("[data-card]");return n.length||(n=s.querySelectorAll("[role='listitem']"),n.length)?n:document.querySelectorAll("[data-card], [role='listitem']")},y=n=>{var r;let o=n.querySelector("[data-location]"),a=o==null?void 0:o.getAttribute("data-location");return a?a.trim().toLowerCase():((o==null?void 0:o.textContent)||((r=n.querySelector(".job-card-pre-heading"))==null?void 0:r.textContent)||"").trim().toLowerCase()},h=n=>{let o=!n||n.toLowerCase()==="*",a=p(),t=0;a.forEach(r=>{let i=y(r),g=o||i===n.toLowerCase();r.style.display=g?"":"none",g&&t++}),console.log("[filter] value:",n,"shown:",t,"/",a.length)},w=n=>{let o=n.target.closest("[data-filter]");if(!o||!document.contains(o)||!e.contains(o))return;let a=(o.getAttribute("data-filter")||"*").trim();e.dataset.selected=a,v(a,o),h(a),requestAnimationFrame(()=>{e.classList.contains("w--open")&&(u==null||u.click()),setTimeout(()=>{var t;e.classList.contains("w--open")&&(e.classList.remove("w--open"),(t=d==null?void 0:d.style)==null||t.removeProperty("display"))},20)})};document.addEventListener("click",w);let f=e.dataset.selected||"*";e.dataset.selected=f,v(f),h(f),s.dataset.filterAttached="true"}function l(){let s=document.querySelectorAll("[data-filter-scope]");s.length?s.forEach(e=>{e.dataset.filterAttached||c(e)}):document.body.dataset.filterAttached||c(document.body)}document.addEventListener("DOMContentLoaded",l),new MutationObserver(l).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(l,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
