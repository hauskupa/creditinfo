(()=>{function b(){var y;let l=document.querySelector("[data-subnav]"),u=l&&l.querySelector("[data-underline]");if(!l||!u)return;let i=[...l.querySelectorAll('[data-subnav-link][href^="#"]')].map(n=>{let r=n.getAttribute("href").slice(1),c=document.getElementById(r);return c?{a:n,id:r,sec:c}:null}).filter(Boolean);if(!i.length)return;let d=(n=>parseFloat(n)||0)(l.getAttribute("data-scroll-offset")),g=((y=document.querySelector(".nav_component"))==null?void 0:y.offsetHeight)||0,w=d||g,m=[],o=()=>{m=i.map(n=>n.sec.getBoundingClientRect().top+window.scrollY),s()};function t(n){let r=n.getBoundingClientRect(),c=l.getBoundingClientRect(),v=r.left-c.left+r.width*.5;u.style.left="0px",u.style.width=v+"px"}function e(n){i.forEach(c=>c.a.removeAttribute("aria-current"));let r=i[n].a;r.setAttribute("aria-current","page"),t(r)}function s(){let n=window.scrollY+w+1,r=0;for(let c=0;c<m.length&&m[c]<=n;c++)r=c;e(r)}i.forEach((n,r)=>{n.a.addEventListener("click",c=>{c.preventDefault();let v=m[r]-w;window.scrollTo({top:v,behavior:"smooth"}),history.replaceState(null,"","#"+n.id),e(r)}),n.a.addEventListener("mouseenter",()=>t(n.a)),n.a.addEventListener("focus",()=>t(n.a))}),l.addEventListener("mouseleave",s);let a=!1,p=()=>{a||(a=!0,requestAnimationFrame(()=>{s(),a=!1}))};window.addEventListener("load",()=>{o(),s()}),window.addEventListener("resize",o),window.addEventListener("scroll",p,{passive:!0})}function A(){let l=f=>String(f||"").toLowerCase().replace(/\/+$/,""),u=l(location.pathname);document.querySelectorAll("[data-mainnav-link]").forEach(f=>{let i=f.getAttribute("href")||"",h=f.getAttribute("data-section")||i,d=l(h);if(!d)return;(d===""||d==="/"?u===""||u==="/":u.startsWith(d))?f.setAttribute("data-active","true"):f.removeAttribute("data-active")})}(()=>{console.log("[filter] boot");let l=o=>(o||"").normalize("NFKD").replace(/\u00A0/g," ").replace(/\s+/g," ").trim().toLowerCase(),u=o=>o.style.setProperty("display","none","important"),f=o=>o.style.removeProperty("display"),i=o=>{var a;let t=o.querySelector("[data-location]"),e=t==null?void 0:t.getAttribute("data-location");if(e)return l(e);let s=(t==null?void 0:t.textContent)||((a=o.querySelector(".job-card-pre-heading"))==null?void 0:a.textContent);return l(s||o.textContent||"")},h=o=>{let t=s=>!s.closest("[data-filter-dropdown]"),e=Array.from(o.querySelectorAll("[data-card]")).filter(t);return e.length||(e=Array.from(o.querySelectorAll("[role='listitem']")).filter(t),e.length)?e:Array.from(document.querySelectorAll("[data-card], [role='listitem']")).filter(t)},d=(o,t)=>{let e=l(t),s=!e||e==="*",a=h(o),p=0;a.forEach(r=>{let c=i(r);s||c===e||c.includes(e)?(f(r),p++):u(r)});let y=o.querySelector("[data-filter-empty]")||document.querySelector("[data-filter-empty]");y&&(y.style.display=p===0?"":"none");let n=a.slice(0,5).map(r=>i(r));console.log("[filter] value:",s?"*":t,"\u2192",e,"shown:",p,"/",a.length,"sample:",n)},g=(o,t,e)=>{var y;let s=o.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||o,a=s.firstElementChild||s,p=l(t)==="*"?"All regions":((y=e==null?void 0:e.textContent)==null?void 0:y.trim())||t;a.tagName==="INPUT"?a.value=p:a.textContent=p},w=o=>{let t=o.querySelector(".w-dropdown-toggle,[data-filter-toggle]")||o,e=o.querySelector("[data-filter-menu]");requestAnimationFrame(()=>{o.classList.contains("w--open")&&(t==null||t.click()),setTimeout(()=>{var s;o.classList.contains("w--open")&&(o.classList.remove("w--open"),(s=e==null?void 0:e.style)==null||s.removeProperty("display"))},20)})},m=()=>{let o=document.querySelectorAll("[data-filter-scope]");if(o.length)o.forEach(t=>{if(t.dataset.filterAttached)return;let e=t.querySelector("[data-filter-dropdown]")||t;e.dataset.selected=e.dataset.selected||"*",g(e,e.dataset.selected),d(t,e.dataset.selected),t.dataset.filterAttached="true"});else if(!document.body.dataset.filterAttached){let t=document.body.querySelector("[data-filter-dropdown]")||document.body;t.dataset.selected=t.dataset.selected||"*",g(t,t.dataset.selected),d(document.body,t.dataset.selected),document.body.dataset.filterAttached="true"}};document.addEventListener("click",o=>{let t=o.target.closest("[data-filter]");if(!t)return;let e=t.closest("[data-filter-dropdown]")||t.closest(".w-dropdown");if(!e)return;let s=e.closest("[data-filter-scope]")||t.closest("[data-filter-scope]")||document.body,a=(t.getAttribute("data-filter")||"*").trim();e.dataset.selected=a,g(e,a,t),d(s,a),w(e)},!0),document.addEventListener("DOMContentLoaded",m),new MutationObserver(m).observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(m,50)})();document.addEventListener("DOMContentLoaded",()=>{A(),b()});})();
